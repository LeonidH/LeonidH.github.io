{"version":3,"sources":["webpack:///./js/index.js","webpack:///./js/audio.js","webpack:///./js/game.js","webpack:///./js/player.js","webpack:///./js/cloud.js","webpack:///./js/factory.js","webpack:///./js/plane.js","webpack:///./js/runway.js","webpack:///./js/statistic.js"],"names":["init","window","onload","backgroundMusic","soundOnEvents","player","document","getElementById","initialization","addEventListener","event","checked","setVolume","fullscreenOnOff","canvas","initGame","removeEventListener","fullscreen","fullscreenEnable","launchFullScreen","requestFullScreen","mozRequestFullScreen","webkitRequestFullScreen","AudioControl","tracks","callbackOnEnded","dom","createElement","volume","selected","state","num","src","currentTime","play","pause","vol","Game","selectTrack","planes","clouds","fabric","statistic","choosen","planeCount","interval","setInterval","length","round","createPlane","createCloud","intervalIDArray","push","runways","x","pageX","offsetLeft","coefWidthPlayerToWind","y","pageY","offsetTop","coefHeightPlayerToWind","forEach","plane","currentXY","planeRadius","doAnimation","landingPath","addPathPointsCoord","reverse","draw","context","clearRect","width","height","each","index","collided","planeToCheck","ind","planeCollisionDetection","runway","drawRunway","drawPlane","cloud","drawCloud","remove","toRealise","toLanding","increaseScore","miss","missed","replay","onGameOver","intervalID","clearInterval","drawGameOverImg","requestAnimationFrame","GamePlayer","getContext","imgPlay","Image","imgGameOver","beginPath","drawImage","closePath","style","innerWidth","innerHeight","stop","font","fillStyle","fillText","Cloud","cloudRadius","random","velocityXY","dx","dy","imgCloud","exceed","Factory","i","fighter","setInitialCoord","bomber","interceptor","Plane","directionAngle","calculateAngle","nextCoord","isNextCoord","imgPlaneSpriteNum","frequencyAngleCalc","imgExplosion","imgExplSpriteNum","scaleRate","Math","atan","PI","sqrt","pow","velocityFull","coefOfSmoothing","smoothedX","smoothedY","lastSmoothedX","slice","lastSmoothedY","pop","mouseVelocity","defineVelocity","modX","modY","cos","abs","directionAnglelInDegrees","displayPlane","arc","lineWidth","strokeStyle","stroke","moveTo","lineCap","coord","lineTo","save","translate","rotate","restore","offsetX","floor","offsetY","distance","collision","Fighter","Bomber","Interceptor","Runway","coordX","coordY","angle","circleX","circleY","img","imgNum","skip","e","console","log","message","GameStatistic","score","missedImg"],"mappings":"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","file":"bundle.563bccd58656bf454f51.js","sourcesContent":["// import '../css/style.css';\nimport {Game} from './game';\nimport {GamePlayer} from './player';\nimport {AudioControl} from './audio';\nimport _ from 'lodash';\n\n\nlet init = window.onload = function () {\n\n    const backgroundMusic = new AudioControl(['../audio/theme.mp3']);\n\n    const soundOnEvents = new AudioControl(['../audio/success.mp3', '../audio/explosion.mp3', '../audio/game-over.mp3']);\n\n    const player = new GamePlayer(document.getElementById(\"gamePlayer\"), backgroundMusic, soundOnEvents);\n\n    player.initialization();\n\n\n    document.getElementById('checkbox').addEventListener(\"change\", (event) => {\n        if (document.getElementById('checkbox').checked) {\n            player.backgroundMusic.setVolume(0);\n        }\n        else {\n            player.backgroundMusic.setVolume(0.5);\n        }\n    });\n\n    window.addEventListener('resize', (event) => {\n        player.fullscreenOnOff();\n    });\n\n    player.canvas.addEventListener('mousedown', function initGame(event) {\n        player.canvas.removeEventListener('mousedown', initGame);\n        Game(player);\n    });\n\n    let fullscreen = document.getElementById(\"fullscreen\");\n    fullscreen.addEventListener('click', (event) => {\n        player.fullscreenEnable = true;\n        launchFullScreen(player);\n    });\n};\n\n\nfunction launchFullScreen(player) {\n    if (player.canvas.requestFullScreen) {\n        player.canvas.requestFullScreen();\n    }\n    else if (player.canvas.mozRequestFullScreen) {\n        player.canvas.mozRequestFullScreen();\n    } else if (player.canvas.webkitRequestFullScreen) {\n        player.canvas.webkitRequestFullScreen();\n    }\n}\n\nexport {\n    init,\n}\n\n\n\n// WEBPACK FOOTER //\n// ./js/index.js","import _ from 'lodash';\n\nclass AudioControl {\n    constructor(tracks, callbackOnEnded) {\n        this.dom = document.createElement('audio');\n        this.tracks = tracks;\n        this.dom.volume = 0.5;\n        this.selected = 0;\n        this.state = 'stop';\n        this.callbackOnEnded = callbackOnEnded || null;\n        if (this.callbackOnEnded) {\n            this.dom.addEventListener('ended', this.callbackOnEnded);\n        }\n    }\n\n    selectTrack(num) {\n        this.dom.src = this.tracks[num];\n        this.selected = num;\n        return this;\n    }\n\n    play() {\n        this.dom.currentTime = 0;\n        this.dom.play();\n        this.state = 'play';\n        return this;\n    }\n\n    stop() {\n        this.dom.pause();\n        this.dom.currentTime = 0;\n        this.state = 'stop';\n        return this;\n    }\n\n    setVolume(vol) {\n        this.dom.volume = vol;\n        return this;\n    }\n}\n\n\nexport {\n    AudioControl,\n}\n\n\n\n// WEBPACK FOOTER //\n// ./js/audio.js","import {Factory} from './factory';\nimport {Runway} from './runway';\nimport {GameStatistic} from './statistic';\nimport {init} from './index';\nimport _ from 'lodash';\n\nfunction Game(player) {\n\n    player.backgroundMusic.selectTrack(0).play();\n\n    let planes = [];\n    let clouds = [];\n\n    const fabric = new Factory(player, planes, clouds);\n    const statistic = new GameStatistic(player);\n\n    let choosen = null;\n\n    let planeCount = 1;\n    const interval = setInterval(function () {\n        planeCount += 0.001;\n        if (planes.length < _.round(planeCount + 0.01)) {\n            fabric.createPlane();\n        }\n        if (clouds.length < 200) {\n            fabric.createCloud();\n        }\n    }, 100);\n    player.intervalIDArray.push(interval);\n\n    let runways = [];\n    runways.push(new Runway(player, 350, 350, -160, 330, 330));\n    runways.push(new Runway(player, 162, 560, -70, 182, 530));\n    runways.push(new Runway(player, 785, 122, 30, 805, 142));\n    runways.push(new Runway(player, 850, 320, -15, 880, 320));\n\n\n    player.canvas.addEventListener('mousedown', (event) => {\n        let x = (event.pageX - player.canvas.offsetLeft) * player.coefWidthPlayerToWind,\n            y = (event.pageY - player.canvas.offsetTop) * player.coefHeightPlayerToWind;\n\n        planes.forEach((plane) => {\n            if (y > plane.currentXY.y - plane.planeRadius && y < plane.currentXY.y + plane.planeRadius &&\n                x > plane.currentXY.x - plane.planeRadius && x < plane.currentXY.x + plane.planeRadius) {\n\n                if (!choosen) {\n                    choosen = plane;\n                    choosen.doAnimation = false;\n                    choosen.landingPath.length = 0;\n                }\n            }\n        })\n    });\n\n    player.canvas.addEventListener('mousemove', (event) => {\n        if (choosen) {\n            choosen.addPathPointsCoord((event.pageX - player.canvas.offsetLeft) * player.coefWidthPlayerToWind, (event.pageY - player.canvas.offsetTop) * player.coefHeightPlayerToWind);\n        }\n    });\n\n    player.canvas.addEventListener('mouseup', (event) => {\n        if (choosen) {\n            choosen.landingPath.reverse();\n            choosen.doAnimation = true;\n            choosen = null;\n        }\n    });\n\n    player.canvas.addEventListener('mouseout', (event) => {\n        if (choosen) {\n            choosen.landingPath.reverse();\n            choosen.doAnimation = true;\n            choosen = null;\n        }\n    });\n\n\n    function draw() {\n        player.context.clearRect(0, 0, player.canvas.width, player.canvas.height);\n\n        _.each(planes, (plane, index) => {\n            if (!plane.collided) {\n                _.each(planes, (planeToCheck, ind) => {\n                    if (index !== ind) {\n                        plane.planeCollisionDetection(planeToCheck);\n                    }\n                })\n            }\n        });\n\n        _.each(runways, (runway) => {\n            runway.drawRunway();\n        });\n\n        _.each(planes, (plane) => {\n            plane.drawPlane();\n        });\n\n        _.each(clouds, (cloud) => {\n            cloud.drawCloud();\n        });\n        _.remove(clouds, (cloud) => {\n            return cloud.toRealise;\n        });\n\n        _.remove(planes, (plane) => {\n            if (plane.toRealise && plane.toLanding) {\n                statistic.increaseScore();\n                player.soundOnEvents.selectTrack(0).play();\n            } else if (plane.toRealise) {\n                statistic.miss();\n            }\n            return plane.toRealise;\n        });\n\n        if (statistic.missed > 8) {\n            if (planes.length !== 0) {\n                player.canvas.addEventListener('mousedown', function replay() {\n                    player.canvas.removeEventListener('mousedown', replay);\n                    Game(player);\n                });\n                player.onGameOver();\n                _.each(player.intervalIDArray, (intervalID) => {\n                    clearInterval(intervalID);\n                });\n                planes.length = 0;\n            }\n            player.drawGameOverImg();\n        }\n\n        statistic.draw();\n\n\n        requestAnimationFrame(draw);\n    }\n\n    draw();\n}\n\n\nexport {\n    Game,\n}\n\n\n\n// WEBPACK FOOTER //\n// ./js/game.js","import _ from 'lodash';\n\nclass GamePlayer {\n    constructor(canvas, backgroundMusic, soundOnEvents) {\n        this.canvas = canvas;\n        this.context = canvas.getContext('2d');\n        this.backgroundMusic = backgroundMusic;\n        this.soundOnEvents = soundOnEvents;\n\n        this.intervalIDArray = [];\n\n        this.imgPlay = new Image();\n        this.imgPlay.src = '../img/play.png';\n\n        this.imgGameOver = new Image();\n        this.imgGameOver.src = '../img/game-over.png'\n\n        this.coefWidthPlayerToWind = 1;\n        this.coefHeightPlayerToWind = 1;\n\n        this.fullscreenEnable = false;\n    }\n\n    initialization() {\n        this.context.clearRect(0, 0, this.canvas.width, this.canvas.height);\n        this.context.beginPath();\n        this.context.drawImage(this.imgPlay, this.canvas.width / 2 - 125, this.canvas.height / 2 - 125, 500 - 250, 500 - 250);\n        this.context.closePath();\n    }\n\n    fullscreenOnOff() {\n        if (this.fullscreenEnable) {\n            this.canvas.style.width = '100%';\n            this.canvas.style.height = '100%';\n            this.coefWidthPlayerToWind = this.canvas.width / window.innerWidth;\n            this.coefHeightPlayerToWind = this.canvas.height / window.innerHeight;\n            this.fullscreenEnable = false;\n        } else {\n            this.canvas.style.width = '1170px';\n            this.canvas.style.height = '730px';\n            this.coefWidthPlayerToWind = 1;\n            this.coefHeightPlayerToWind = 1;\n        }\n    }\n\n    onGameOver() {\n        this.backgroundMusic.stop();\n        this.soundOnEvents.selectTrack(2).play();\n    }\n\n    drawGameOverImg() {\n        this.context.beginPath();\n        this.context.drawImage(this.imgGameOver, 370, 180, 400, 206);\n        this.context.font = 'bold 42px Courier New';\n        this.context.fillStyle = \"#ffffff\";\n        this.context.fillText(`Click to continue`, 370, 490);\n        this.context.closePath();\n    }\n}\n\nexport{\n    GamePlayer,\n}\n\n\n\n// WEBPACK FOOTER //\n// ./js/player.js","import _ from 'lodash';\n\nclass Cloud {\n    constructor(player) {\n        this.player = player;\n\n        this.cloudRadius = 200;\n        this.currentXY = {\n            x: this.player.canvas.width,\n            y: _.random(0, this.player.canvas.height - this.cloudRadius)\n        };\n\n        this.velocityXY = {dx: _.random(-0.5, 0, true), dy: _.random(-0.5, 0.5, true)};\n\n        this.imgCloud = new Image();\n        this.imgCloud.src = '../img/cloud.png';\n\n        this.toRealise = false;\n    }\n\n    drawCloud() {\n        this.player.context.beginPath();\n        this.player.context.drawImage(this.imgCloud, this.currentXY.x, this.currentXY.y, this.cloudRadius, this.cloudRadius);\n        this.player.context.closePath();\n        this.exceed();\n    }\n\n    exceed() {\n        if (this.currentXY.x > this.player.canvas.width || this.currentXY.x + this.velocityXY.dx < -this.cloudRadius) {\n            this.toRealise = true;\n        }\n        if (this.currentXY.y + this.velocityXY.dy > this.player.canvas.height || this.currentXY.y + this.velocityXY.dy < -this.cloudRadius) {\n            this.toRealise = true;\n        }\n        this.currentXY.x += this.velocityXY.dx;\n        this.currentXY.y += this.velocityXY.dy;\n    }\n\n}\n\nexport {\n    Cloud,\n}\n\n\n\n// WEBPACK FOOTER //\n// ./js/cloud.js","import {Fighter} from './plane';\nimport {Bomber} from './plane';\nimport {Interceptor} from './plane';\nimport {Plane} from './plane';\nimport {Cloud} from './cloud';\nimport _ from 'lodash';\n\n\nclass Factory {\n    constructor(player, planes, clouds) {\n        this.planes = planes;\n        this.clouds = clouds;\n        this.player = player;\n        this.i = 1;\n    }\n\n    createPlane() {\n        switch (this.i % 3) {\n            case 0:\n                let fighter=new Fighter(this.player);\n                fighter.setInitialCoord();\n                this.planes.push(fighter);\n                break;\n            case 1:\n                let bomber=new Bomber(this.player);\n                bomber.setInitialCoord();\n                this.planes.push(bomber);\n                break;\n            case 2:\n                let interceptor=new Interceptor(this.player);\n                interceptor.setInitialCoord();\n                this.planes.push(interceptor);\n                break;\n        }\n        this.i += 1;\n    }\n\n    createCloud() {\n        this.clouds.push(new Cloud(this.player));\n    }\n}\n\nexport {\n    Factory,\n}\n\n\n\n// WEBPACK FOOTER //\n// ./js/factory.js","import _ from 'lodash';\n\nclass Plane {\n    constructor(player) {\n        this.player = player;\n\n        this.velocityXY = {dx: 0, dy: 0};\n        this.directionAngle = this.calculateAngle();\n\n        this.landingPath = [];\n        this.nextCoord = null;\n        this.isNextCoord = false;\n\n\n        this.imgPlaneSpriteNum = 0;\n        this.frequencyAngleCalc = 0;\n        this.doAnimation = true;\n        this.collided = false;\n        this.imgExplosion = new Image();\n        this.imgExplosion.src = '../img/explosion.png';\n        this.imgExplSpriteNum = 0;\n\n\n        this.toLanding = false;\n        this.scaleRate = 1;\n\n        this.toRealise = false;\n    }\n\n    calculateAngle() {\n        if ((this.velocityXY.dx > 0 && this.velocityXY.dy > 0) || (this.velocityXY.dx > 0 && this.velocityXY.dy <= 0)) {\n            return Math.atan(this.velocityXY.dy / this.velocityXY.dx) + Math.PI / 2;\n        }\n        else {\n            return Math.atan(this.velocityXY.dy / this.velocityXY.dx) + 3 * Math.PI / 2;\n        }\n    }\n\n    addPathPointsCoord(x, y) {\n        if (x > this.player.canvas.width - this.planeRadius) {\n            x = this.player.canvas.width - this.planeRadius;\n        }\n        if (x < this.planeRadius) {\n            x = this.planeRadius;\n        }\n        if (y > this.player.canvas.height - this.planeRadius) {\n            y = this.player.canvas.height - this.planeRadius;\n        }\n        if (y < this.planeRadius) {\n            y = this.planeRadius;\n        }\n\n        /**\n         * Exponential smoothing\n         */\n        if (Math.sqrt(Math.pow(x, 2) + Math.pow(y, 2)) > this.velocityFull) {\n            let coefOfSmoothing = 0.3;\n            let smoothedX = x;\n            let smoothedY = y;\n            if (this.landingPath.length) {\n                let lastSmoothedX = this.landingPath.slice(-1)[0].x;\n                let lastSmoothedY = this.landingPath.slice(-1)[0].y;\n                smoothedX = coefOfSmoothing * x + (1 - coefOfSmoothing) * lastSmoothedX;\n                smoothedY = coefOfSmoothing * y + (1 - coefOfSmoothing) * lastSmoothedY;\n            }\n            this.landingPath.push({x: smoothedX, y: smoothedY});\n        }\n    }\n\n    static defineVelocity(dx, dy) {\n        return Math.pow(Math.pow(dx, 2) + Math.pow(dy, 2), 0.5)\n    }\n\n\n    drawPlane() {\n        if (this.doAnimation) {\n            if (this.landingPath.length || this.nextCoord) {\n                if (!this.nextCoord) {\n                    this.nextCoord = this.landingPath.pop();\n                }\n\n                let mouseVelocity =\n                    Plane.defineVelocity((this.nextCoord.x - this.currentXY.x), (this.nextCoord.y - this.currentXY.y));\n\n\n                if (mouseVelocity > this.velocityFull && !this.isNextCoord) {\n                    let modX = (this.nextCoord.x - this.currentXY.x) > 0 ? 1 : -1,\n                        modY = (this.nextCoord.y - this.currentXY.y) > 0 ? 1 : -1,\n                        cos = (this.nextCoord.x - this.currentXY.x) / mouseVelocity;\n\n                    this.isNextCoord = true;\n                    this.velocityXY.dx = modX * Math.abs(cos * this.velocityFull);\n                    this.velocityXY.dy = modY * Math.abs(Math.sqrt(Math.pow(this.velocityFull, 2) - Math.pow(this.velocityXY.dx, 2)));\n                }\n\n                if (mouseVelocity <= this.velocityFull) {\n                    this.nextCoord = null;\n                    this.isNextCoord = false;\n                }\n\n                /**\n                 * Check to landing\n                 * @type {number}\n                 */\n                let directionAnglelInDegrees = this.directionAngle * 180 / Math.PI;\n                if (Math.abs(directionAnglelInDegrees - 290) <= 10) {\n                    if (Math.sqrt(Math.pow(this.currentXY.x - 330, 2) + Math.pow(this.currentXY.y - 330, 2)) <= 30) {\n                        this.toLanding = true;\n                    }\n                }\n                if (Math.abs(directionAnglelInDegrees - 20) <= 10) {\n                    if (Math.sqrt(Math.pow(this.currentXY.x - 182, 2) + Math.pow(this.currentXY.y - 530, 2)) <= 30) {\n                        this.toLanding = true;\n                    }\n                }\n                if (Math.abs(directionAnglelInDegrees - 120) <= 10) {\n                    if (Math.sqrt(Math.pow(this.currentXY.x - 805, 2) + Math.pow(this.currentXY.y - 142, 2)) <= 30) {\n                        this.toLanding = true;\n                    }\n                }\n                if (Math.abs(directionAnglelInDegrees - 75) <= 10) {\n                    if (Math.sqrt(Math.pow(this.currentXY.x - 880, 2) + Math.pow(this.currentXY.y - 320, 2)) <= 30) {\n                        this.toLanding = true;\n                    }\n                }\n\n            }\n        }\n        this.displayPlane();\n    }\n\n    displayPlane() {\n        if (this.toLanding) {\n            this.scaleRate -= 0.01;\n            if (this.scaleRate <= 0.5) {\n                this.toRealise = true;\n            }\n        }\n        this.player.context.beginPath();\n\n        if (!this.collided) {\n            if (this.doAnimation) {\n                this.exceed();\n            }\n\n            if (this.landingPath.length) {\n                this.player.context.arc(this.currentXY.x, this.currentXY.y, this.planeRadius, 0, Math.PI * 2);\n                this.player.context.lineWidth = 4;\n                this.player.context.strokeStyle = \"#05ff00\";\n                this.player.context.stroke();\n            }\n\n            if (this.landingPath.length && !this.doAnimation) {\n                this.player.context.moveTo(this.landingPath[0].x, this.landingPath[0].y);\n                this.player.context.lineWidth = 5;\n                this.player.context.strokeStyle = \"#ff7a51\";\n                this.player.context.lineCap = \"round\";\n                _.forEach(this.landingPath, (coord) => {\n                    this.player.context.lineTo(coord.x, coord.y);\n                    this.player.context.stroke();\n                });\n            }\n\n            this.player.context.save();\n            this.player.context.translate(this.currentXY.x, this.currentXY.y);\n\n            if (this.frequencyAngleCalc++ === 5) {\n                this.directionAngle = this.calculateAngle();\n                this.frequencyAngleCalc = 0;\n            }\n\n            this.player.context.rotate(this.directionAngle);\n            this.player.context.drawImage(this.imgPlay, (66 * this.imgPlaneSpriteNum), 0, 65, 65, -33 * this.scaleRate, -33 * this.scaleRate, 65 * this.scaleRate, 65 * this.scaleRate);\n            this.imgPlaneSpriteNum++;\n            if (this.imgPlaneSpriteNum > 3) {\n                this.imgPlaneSpriteNum = 0;\n            }\n\n            this.player.context.restore();\n\n        } else {\n            let offsetX = Math.floor(this.imgExplSpriteNum % 8);\n            let offsetY = Math.floor(this.imgExplSpriteNum / 8);\n            this.player.context.drawImage(this.imgExplosion, 64 * offsetX, 64 * offsetY, 64, 64, this.currentXY.x - 32, this.currentXY.y - 32, 64, 64);\n            this.imgExplSpriteNum += 0.15;\n            if (this.imgExplSpriteNum > 20) {\n                this.toRealise = true;\n            }\n        }\n        this.player.context.closePath();\n\n        return this;\n    }\n\n    exceed() {\n        if (this.currentXY.x + this.velocityXY.dx > this.player.canvas.width - this.planeRadius || this.currentXY.x + this.velocityXY.dx < this.planeRadius) {\n            this.velocityXY.dx = -this.velocityXY.dx;\n        }\n        if (this.currentXY.y + this.velocityXY.dy > this.player.canvas.height - this.planeRadius || this.currentXY.y + this.velocityXY.dy < this.planeRadius) {\n            this.velocityXY.dy = -this.velocityXY.dy;\n        }\n        this.currentXY.x += this.velocityXY.dx;\n        this.currentXY.y += this.velocityXY.dy;\n    }\n\n    planeCollisionDetection(planeToCheck) {\n        if (!this.collided && !planeToCheck.collided && !this.toLanding && !planeToCheck.toLanding) {\n            let dx = this.currentXY.x - planeToCheck.currentXY.x;\n            let dy = this.currentXY.y - planeToCheck.currentXY.y;\n            let distance = Math.sqrt(dx * dx + dy * dy);\n            let collision = distance < (this.planeRadius / 1.5 + planeToCheck.planeRadius / 1.5);\n            if (collision) {\n                this.collided = true;\n                planeToCheck.collided = true;\n                this.player.soundOnEvents.selectTrack(1).play();\n            }\n        }\n    }\n\n    setInitialCoord() {\n        switch (_.random(0, 3)) {\n            case 0:\n                this.currentXY.y = this.planeRadius;\n                this.currentXY.x = _.random(this.planeRadius, this.player.canvas.width - this.planeRadius);\n                this.velocityXY.dx = _.random(0.1, this.velocityFull - 0.1, true);\n                this.velocityXY.dy = Math.sqrt(Math.pow(this.velocityFull, 2) - Math.pow(this.velocityXY.dx, 2));\n                break;\n            case 1:\n                this.currentXY.x = this.player.canvas.width - this.planeRadius;\n                this.currentXY.y = _.random(this.planeRadius, this.player.canvas.height - this.planeRadius);\n                this.velocityXY.dy = _.random(0.1, this.velocityFull - 0.1, true);\n                this.velocityXY.dx = Math.sqrt(Math.pow(this.velocityFull, 2) - Math.pow(this.velocityXY.dy, 2));\n                break;\n            case 2:\n                this.currentXY.y = this.player.canvas.height - this.planeRadius;\n                this.currentXY.x = _.random(this.planeRadius, this.player.canvas.width - this.planeRadius);\n                this.velocityXY.dx = _.random(0.1, this.velocityFull - 0.1, true);\n                this.velocityXY.dy = Math.sqrt(Math.pow(this.velocityFull, 2) - Math.pow(this.velocityXY.dx, 2));\n                break;\n            case 3:\n                this.currentXY.x = this.planeRadius;\n                this.currentXY.y = _.random(this.planeRadius, this.player.canvas.height - this.planeRadius);\n                this.velocityXY.dy = _.random(0.1, this.velocityFull - 0.1, true);\n                this.velocityXY.dx = Math.sqrt(Math.pow(this.velocityFull, 2) - Math.pow(this.velocityXY.dy, 2));\n                break;\n        }\n    }\n\n}\n\nclass Fighter extends Plane {\n    constructor(player) {\n        super(player);\n        this.planeRadius = 30;\n        this.velocityFull = 1.8;\n        this.currentXY = {\n            x: this.planeRadius,\n            y: this.planeRadius\n        };\n\n        this.imgPlay = new Image();\n        this.imgPlay.src = '../img/fighter.png';\n    }\n\n}\n\nclass Bomber extends Plane {\n    constructor(player) {\n        super(player);\n        this.planeRadius = 30;\n        this.velocityFull = 1.2;\n        this.currentXY = {\n            x: this.planeRadius,\n            y: this.planeRadius\n        };\n        this.imgPlay = new Image();\n        this.imgPlay.src = '../img/bomber.png';\n    }\n\n}\n\nclass Interceptor extends Plane {\n    constructor(player) {\n        super(player);\n        this.planeRadius = 30;\n        this.velocityFull = 2.5;\n        this.currentXY = {\n            x: this.planeRadius,\n            y: this.planeRadius\n        };\n\n        this.imgPlay = new Image();\n        this.imgPlay.src = '../img/interceptor.png';\n    }\n\n}\n\n\nexport {\n    Plane,\n    Fighter,\n    Bomber,\n    Interceptor,\n}\n\n\n\n// WEBPACK FOOTER //\n// ./js/plane.js","import _ from 'lodash';\n\nclass Runway {\n    constructor(player, coordX, coordY, angle, circleX, circleY) {\n        this.player = player;\n        this.coordX = coordX;\n        this.coordY = coordY;\n        this.angle = angle;\n        this.img = new Image();\n        this.img.src = '../img/runway.png';\n        this.imgNum = 0;\n        this.skip = 0;\n    }\n\n    drawRunway() {\n        if (!(this.skip % 4)) {\n            this.player.context.beginPath();\n            this.player.context.save();\n            this.player.context.translate(this.coordX, this.coordY);\n            this.player.context.rotate(this.angle * Math.PI / 180);\n            try {\n                this.player.context.drawImage(this.img, (17.25 * (this.imgNum % 4)), 0, 17.25, 20, 17.25 * (this.imgNum % 4), 0, 17.25, 20);\n            } catch (e) {\n                console.log(e.message);\n            }\n\n            this.imgNum += 1;\n            this.player.context.restore();\n            this.player.context.closePath();\n        }\n        this.skip += 1;\n    }\n}\n\nexport {\n    Runway,\n}\n\n\n\n// WEBPACK FOOTER //\n// ./js/runway.js","class GameStatistic {\n    constructor(player) {\n        this.player = player;\n        this.score = 0;\n        this.missed = 0;\n        this.missedImg = new Image();\n        this.missedImg.src = '../img/missing.png';\n    }\n\n    increaseScore() {\n        this.score += 1;\n    }\n\n    miss() {\n        this.missed += 1;\n    }\n\n    draw() {\n        this.player.context.beginPath();\n\n        if (this.missed) {\n            for (let i = 0; i < this.missed; i++) {\n                this.player.context.drawImage(this.missedImg, 825 - i * 60, 670, 55, 55);\n            }\n        }\n\n        this.player.context.font = 'bold 38px Courier New';\n        this.player.context.fillStyle = \"#ffffff\";\n        this.player.context.fillText(`Score:${this.score}`, 50, 50);\n\n        this.player.context.closePath();\n    }\n\n}\n\nexport{\n    GameStatistic,\n}\n\n\n\n// WEBPACK FOOTER //\n// ./js/statistic.js"],"sourceRoot":""}